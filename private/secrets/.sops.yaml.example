# SOPS Configuration File
# This file tells SOPS which keys can decrypt which files
#
# Setup:
# 1. Get your Secure Enclave public key:
#    grep "public key:" ~/.config/nix/private/age/keys.txt
#
# 2. Copy this file to .sops.yaml and replace YOUR_AGE_PUBLIC_KEY_HERE
#
# 3. (Optional) Set up backup key for portable backups:
#    bash ~/.config/nix/public/scripts/setup-backup-key.sh
#    (This will automatically add your backup key to this config)
#
# For more info: https://github.com/mozilla/sops

keys:
  - &basil YOUR_AGE_PUBLIC_KEY_HERE
  # After running setup-backup-key.sh, a backup key will be added here:
  # - &backup YOUR_BACKUP_PUBLIC_KEY_HERE

creation_rules:
  - path_regex: .*\.yaml$
    key_groups:
      - age:
          - *basil
          # After setup-backup-key.sh:
          # - *backup
